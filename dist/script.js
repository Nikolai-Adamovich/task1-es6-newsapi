!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);var r=new Map([["category",""],["country",""],["q",""]]),a=new Map([["pageSize",20],["page",1]]);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(e,t){var n=o(e,2),r=n[0],a=n[1];return"".concat(0===t?"?":"&").concat(r,"=").concat(encodeURIComponent(a))},c=function(){var e=function(){var e=0,t="https://newsapi.org/v2/";/[а-яё\w\d]{3,}/i.test(r.get("q"))?t+="everything":t+="top-headlines";var n=!0,o=!1,c=void 0;try{for(var l,u=r[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var s=l.value;s[1]&&(t+=i(s,e++))}}catch(e){o=!0,c=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw c}}0===e&&(t+=i(["language","en"],e++));var d=!0,f=!1,v=void 0;try{for(var g,y=a[Symbol.iterator]();!(d=(g=y.next()).done);d=!0){var p=g.value;p[1]&&(t+=i(p,e++))}}catch(e){f=!0,v=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw v}}return t+=i(["apiKey","d72c9d0925a44fb8a00c4f2ed855167c"],e++)}();return fetch(e).then(function(e){return e.json()})},l=function(e){document.querySelector(".news").innerHTML='<div class="error">'.concat(e,"</div>")},u=function(e){var t=e.category,n=e.country,a=e.q;r.set("category",t),r.set("country",n),r.set("q",a)},s=function(e){var t=e.pageSize,n=e.page;a.set("pageSize",t),a.set("page",n)};function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=t,this.totalResults=n,this.pageSize=r,this.page=a,this.empty(),this.render()}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(e,[{key:"empty",value:function(){this.root.innerHtml="",this.root.textContent=""}},{key:"render",value:function(){var e=this,t=Math.ceil(this.totalResults/this.pageSize),n=function(t,n){e.root.insertAdjacentHTML("beforeend",'<li class="pagination__item'.concat(n?" pagination__item--".concat(n):"",'">').concat(t,"</li>"))};if(1===this.page?n("«","disabled"):n("«"),this.page>6)n(1),n(2),n("..","disabled"),n(this.page-2),n(this.page-1);else for(var r=1;r<this.page;r++)n(r);if(n(this.page,"active"),t-this.page>6)n(this.page+1),n(this.page+2),n("..","disabled"),n(t-1),n(t);else for(var a=this.page+1;a<=t;a++)n(a);this.page===t?n("»","disabled"):n("»"),this.root.classList.toggle("pagination--visible",!0)}}]),e}(),v=function(){c().then(function(e){var t=document.querySelector(".pagination");"ok"===e.status?e.totalResults>0?(!function(e){var t=document.querySelector(".news");t.innerHTML="";var n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value,l=c.source.name,u=c.author,s=c.title,d=c.content,f=c.description,v=c.url,g=c.urlToImage,y=c.publishedAt;(d||f)&&(d=d||f||"",t.insertAdjacentHTML("beforeend",'<li class="news__item">\n      <article class="news__article">\n        <h2 class="news__title"><a href="'.concat(v,'" target="_blank">').concat(s,'</a></h2>\n        <div class="news__main">\n          ').concat(g?'<div class="news__image" style="background-image: url('.concat(g,');"></div>'):"",'\n          <div class="news__content">').concat(d.replace(/\[\+\d+\s(chars\])/,""),'</div>\n        </div>\n        <footer class="news__footer">\n          <div class="news__author">Author: ').concat(u||l,'</div>\n          <div class="news__source-name">').concat(l?"Source: ".concat(l):"",'</div>\n          <div class="news__published-at">').concat(new Date(y).toLocaleString(),"</div>\n        </footer>\n      </article>\n    </li>")))}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}}(e.articles),e.totalResults>a.get("pageSize")?new f(t,e.totalResults,a.get("pageSize"),a.get("page")||1):t.classList.toggle("pagination--visible",!1)):l("Sorry. We can't find anything. Try to change your search options."):(l(e.message),t.classList.toggle("pagination--visible",!1))}).catch(function(e){console.log(e)})};window.addEventListener("load",function(){v();var e=document.querySelector("html"),t=document.querySelector(".header");window.addEventListener("scroll",function(){t.classList.toggle("header--small",e.scrollTop>0)});var n=document.querySelector(".nav__button"),r=document.querySelector(".nav__menu");n.addEventListener("click",function(){r.classList.toggle("nav__menu--visible")});var o=document.querySelector("#clear"),i=document.querySelector(".nav__search"),c=document.querySelector("#category-all"),l=document.querySelector("#country-all");o.addEventListener("click",function(){i.value="",c.checked=!0,l.checked=!0,r.classList.toggle("nav__menu--visible",!1),u({category:"",country:"",q:""}),s({pageSize:20,page:1}),v()}),document.querySelector("#apply").addEventListener("click",function(){var e=document.querySelector('input[name="category"]:checked').value,t=document.querySelector('input[name="country"]:checked').value,n=i.value.trim();n&&(c.checked=!0,l.checked=!0,e="",t=""),u({category:e,country:t,q:n}),r.classList.toggle("nav__menu--visible",!1),v()}),document.querySelector(".pagination").addEventListener("click",function(e){var t=e.target;if("LI"===t.tagName){var n=parseInt(t.innerText);n&&n!==a.get("page")&&(s({pageSize:20,page:n}),v())}})})}]);